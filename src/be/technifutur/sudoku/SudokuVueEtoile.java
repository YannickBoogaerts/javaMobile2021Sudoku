package be.technifutur.sudoku;

public class SudokuVueEtoile implements SudokuVue {

    private static String grille = ("" +
            "+-------+-------+-------+       +-------+-------+-------+\n" +
            "| . . . | . . . | . . . |       | . . . | . . . | . . . |\n" +
            "| . . . | . . . | . . . |       | . . . | . . . | . . . |\n" +
            "| . . . | . . . | . . . |       | . . . | . . . | . . . |\n" +
            "+-------+-------+-------+       +-------+-------+-------+\n" +
            "| . . . | . . . | . . . |       | . . . | . . . | . . . |\n" +
            "| . . . | . . . | . . . |       | . . . | . . . | . . . |\n" +
            "| . . . | . . . | . . . |       | . . . | . . . | . . . |\n" +
            "+-------+-------+-------+-------+-------+-------+-------+\n" +
            "| . . . | . . . | . . . | . . . | . . . | . . . | . . . |\n" +
            "| . . . | . . . | . . . | . . . | . . . | . . . | . . . |\n" +
            "| . . . | . . . | . . . | . . . | . . . | . . . | . . . |\n" +
            "+-------+-------+-------+-------+-------+-------+-------+\n" +
            "                | . . . | . . . | . . . |\n" +
            "                | . . . | . . . | . . . |\n" +
            "                | . . . | . . . | . . . |\n" +
            "+-------+-------+-------+-------+-------+-------+-------+\n" +
            "| . . . | . . . | . . . | . . . | . . . | . . . | . . . |\n" +
            "| . . . | . . . | . . . | . . . | . . . | . . . | . . . |\n" +
            "| . . . | . . . | . . . | . . . | . . . | . . . | . . . |\n" +
            "+-------+-------+-------+-------+-------+-------+-------+\n" +
            "| . . . | . . . | . . . |       | . . . | . . . | . . . |\n" +
            "| . . . | . . . | . . . |       | . . . | . . . | . . . |\n" +
            "| . . . | . . . | . . . |       | . . . | . . . | . . . |\n" +
            "+-------+-------+-------+       +-------+-------+-------+\n" +
            "| . . . | . . . | . . . |       | . . . | . . . | . . . |\n" +
            "| . . . | . . . | . . . |       | . . . | . . . | . . . |\n" +
            "| . . . | . . . | . . . |       | . . . | . . . | . . . |\n" +
            "+-------+-------+-------+       +-------+-------+-------+\n").replace(".", "%s");

    private SudokuEtoile sudo;

    public Sudoku getSudoku() {
        return sudo;
    }

    public void setSudoku(SudokuEtoile sudo) {
        this.sudo = sudo;
    }

    public String toString() {
        Character[] tab = new Character[21 * 21 - 3 * 6 * 4];
        int pos = 0;
        for (int line = 0; line < 21; line++) {
            for (int column = 0; column < 21; column++) {
                if(sudo.isCellValid(line,column)) {
                    char value = sudo.getValue(line, column);
                    if (value == Sudoku.EMPTY) {
                        tab[pos] = '.';
                    } else {
                        tab[pos] = value;
                    }
                    pos++;
                }else{
                    //System.out.println("l:"+line+" c:"+column);
                }
            }
        }
        return String.format(grille, (Object[]) tab);
    }
}
